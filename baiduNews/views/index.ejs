<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title><%= title %></title>
    <link rel="stylesheet" href="../stylesheets/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <style>
        .lunbo {
            border: 1px solid #e4e4e4;
            position: relative;
            top: 98px;
            width: 100%;
        }

    </style>
</head>
<body>
<div class="logoshow">
    <a href="https://m.baidu.com/" class="float-left baidu-icon"></a>
    <a href="mnews/login" class="float-left profile-icon" id="login"></a>
    <a href="dinyue/center" class="float-right subscribe-icon"></a>
    <a href="search/news" class="float-right search-icon"></a>
</div>
<div class="target">
    <div class="scrollMenu" id="scrollMenuContainer">
        <p class="lgrad nodis" id="lgrad"></p>
        <ul class="menus">
            <li id="nav-0" class="selected"><a href="/getNews/0">精选</a></li>
            <li id="nav-1"><a href="/getNews/1">百家</a></li>
            <li id="nav-2"><a href="/getNews/2">本地</a></li>
            <li id="nav-3"><a href="/getNews/3">娱乐</a></li>
            <li id="nav-4"><a href="/getNews/4">社会</a></li>
            <li id="nav-5"><a href="/getNews/5">军事</a></li>
            <li id="nav-6"><a href="/getNews/6">女人</a></li>
            <li id="nav-7"><a href="/getNews/7">搞笑</a></li>
            <li id="nav-8"><a href="/getNews/8">互联网</a></li>
            <li id="nav-9"><a href="/getNews/9">科技</a></li>
            <li id="nav-10"><a href="/getNews/10">生活</a></li>
            <li id="nav-11"><a href="/getNews/11">国际</a></li>
            <li id="nav-12"><a href="/getNews/12">国内</a></li>
            <li id="nav-13"><a href="/getNews/13">体育</a></li>
            <li id="nav-14"><a href="/getNews/14">汽车</a></li>
            <li id="nav-15"><a href="/getNews/15">财经</a></li>
            <li id="nav-16"><a href="/getNews/16">房产</a></li>
        </ul>
        <p class="rgrad"></p>
        <p class="more"><a href="#"><i class="i" id="more"></i></a></p>
    </div>
    <div class="allmenu novis">
        <div class="menusArea">
            <div class="title">切换栏目 <a href="#" class="less"><i class="i" id="back"></i></a></div>
            <div class="menubg">
                <div>
                    <ul class="menus" id="allMenus">
                        <li id="nav-0" class="selected"><a href="/getNews/0">精选</a></li>
                        <li id="nav-1"><a href="/getNews/1">百家</a></li>
                        <li id="nav-2"><a href="/getNews/2">本地</a></li>
                        <li id="nav-3"><a href="/getNews/3">娱乐</a></li>
                        <li id="nav-4"><a href="/getNews/4">社会</a></li>
                        <li id="nav-5"><a href="/getNews/5">军事</a></li>
                        <li><a href="/getNews/6">女人</a></li>
                        <li><a href="/getNews/7">搞笑</a></li>
                        <li class="internet"><a href="/getNews/8">互联网</a></li>
                        <li class="keji"><a href="/getNews/9">科技</a></li>
                        <li><a href="/getNews/10">生活</a></li>
                        <li><a href="/getNews/11">国际</a></li>
                        <li><a href="/getNews/12">国内</a></li>
                        <li><a href="/getNews/13">体育</a></li>
                        <li><a href="/getNews/14">汽车</a></li>
                        <li><a href="/getNews/15">财经</a></li>
                        <li><a href="/getNews/16">房产</a></li>
                        <li><a href="/getNews/17">时尚</a></li>
                        <li><a href="/getNews/18">教育</a></li>
                        <li><a href="/getNews/19">游戏</a></li>
                        <li><a href="/getNews/20">旅游</a></li>
                        <li><a href="/getNews/21">人文</a></li>
                        <li><a href="/getNews/22">创意</a></li>
                    </ul>
                </div>
            </div>
            <ul class="btmMenu">
                <li><a href="#">删除及排序</a></li>
            </ul>
        </div>
        <div class="mark"></div>
    </div>
</div>
<!--轮播图-->
<div id="carousel-example-generic" class="carousel slide lunbo" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner imgsize" role="listbox">
        <div class="item active">
            <img src="../images/7.jpg" alt="图片" style="width: 100%;height: 300px;">
            <div class="carousel-caption">
                美墨边境墙设计方案投标完毕 投标商收到死亡威胁
            </div>
        </div>
        <div class="item">
            <img src="../images/2.jpg" alt="图片" style="width: 100%;height: 300px;">
            <div class="carousel-caption">
                郁慕明：蔡英文取消遥寄黄帝 她还是中华儿女么
            </div>
        </div>
        <div class="item">
            <img src="../images/11.jpg" alt="图片" style="width: 100%;height: 300px;">
            <div class="carousel-caption">
                国际乒联排名：马龙丁宁占据榜首 张继科第四
            </div>
        </div>

    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<!--显示新闻地区-->
<div class="content">
    <ul class="cotent2">

    </ul>
</div>

<script src="./javascripts/jquery-3.0.0.min.js"></script>
<script src="./javascripts/bootstrap.min.js"></script>
<script type="application/javascript">
    $(function () {
     //   栏目详细显示
        $(".more").click(function () {
            $(".allmenu").show();
        })
        //栏目详细隐藏
        $(".less").click(function () {
            $(".allmenu").hide();
        })
        //  详细栏目
        $("#allMenus li").click(function () {
            var index = $(this).index();
            $("#allMenus li:eq(" + index + ")").addClass("selected").siblings().removeClass("selected");
        });
        //点击栏目切换新闻内容
        $(".menus li").click(function () {
            var index = $(this).index();
            $(".cotent2").empty();
            $(".menus li:eq(" + index + ")").addClass("selected").siblings().removeClass("selected");
            var path = $(this).find("a").attr("href");
            $.ajax({
                url: path,
                type: "get",
                success: function (data) {
                    console.log(data);
                    $.each(data, function (index, ele) {
                        getMsg(ele);
                    })
                }, error: function (err) {
                    console.log(err);
                }
            })
            //防止跳转页面
            return false;
        });
        //初始加载显示精选新闻
        $.ajax({
            url: "/newsed",
            type: "get",
            success: function (data) {
                console.log(data);
                $.each(data, function (index, ele) {
                    getMsg(ele);
                })
            }, error: function (err) {
                console.log(err);
            }
        });

    });
    //动态创建标签
    function getMsg(ele) {
        var img = ele.newsImgPath;
        var title = ele.newsTitle;
        var time = ele.newsDate;
        var source = ele.newsSource;
        var a = $("<a href='sigle/" + ele.newsId + "' style='display: block;'></a>");
        var li = $("<li></li>");
        var div = $("<div class='newCon'></div>");
        var div1 = $("<div class='newPIC'><a href='#'><img src='../images/" + img + "' alt='图片'></a></div>");
        var div4 = $("<div class='newsMSG'></div>");
        var div2 = $("<div class='newTitle'><span><a href='#'>" + title + "</a></span></div>");
        var div3 = $("<div class='newsTime'><span>" + time + "</span><span>" + source + "</span></div>");
        div1.appendTo(div);
        div4.appendTo(div);
        div2.appendTo(div4);
        div3.appendTo(div4);
        div.appendTo(li);
        li.appendTo(a);
        a.appendTo($(".cotent2"));
    }
</script>
</body>
</html>
